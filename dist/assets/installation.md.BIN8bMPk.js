import{_ as s,c as i,o as a,a4 as e}from"./chunks/framework.DFYgEw_e.js";const k=JSON.parse('{"title":"Vanguard Installation Guide","description":"","frontmatter":{},"headers":[],"relativePath":"installation.md","filePath":"installation.md"}'),t={name:"installation.md"},n=e(`<h1 id="vanguard-installation-guide" tabindex="-1">Vanguard Installation Guide <a class="header-anchor" href="#vanguard-installation-guide" aria-label="Permalink to &quot;Vanguard Installation Guide&quot;">​</a></h1><p>Vanguard is built on Laravel and integrates Reverb for web sockets, Horizon for job processing, and Pulse for monitoring. This guide covers the step-by-step installation process.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li>PHP 8.1 or higher</li><li>Composer</li><li>Node.js and npm</li><li>MySQL or PostgreSQL database</li><li>Open ports for SSH connections on destination servers</li></ul><h2 id="step-by-step-installation" tabindex="-1">Step-by-Step Installation <a class="header-anchor" href="#step-by-step-installation" aria-label="Permalink to &quot;Step-by-Step Installation&quot;">​</a></h2><ol><li><p><strong>Clone the Repository</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/vanguardbackup/vanguard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vanguard</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vanguard</span></span></code></pre></div></li><li><p><strong>Install PHP Dependencies</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">composer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div></li><li><p><strong>Set Up Environment File</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span></code></pre></div><p>Edit the <code>.env</code> file to configure your environment:</p><ul><li>Set database credentials (<code>DB_*</code> variables)</li><li>Configure <code>REVERB_HOST</code> and <code>REVERB_PORT</code></li><li>Add your email to <code>ADMIN_EMAIL_ADDRESSES</code> (comma-separated for multiple)</li><li>Set <code>SSH_PASSPHRASE</code> for SSH key generation</li></ul></li><li><p><strong>Generate Application Key</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key:generate</span></span></code></pre></div></li><li><p><strong>Run Database Migrations</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span></span></code></pre></div></li><li><p><strong>Install and Compile Frontend Dependencies</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div></li><li><p><strong>Configure GitHub Login (Optional)</strong> If you want to enable GitHub login:</p><ul><li>Create a new GitHub OAuth App at <a href="https://github.com/settings/developers" target="_blank" rel="noreferrer">https://github.com/settings/developers</a></li><li>Set the Authorization callback URL to <code>http://your-app-url/auth/github/callback</code></li><li>Update your <code>.env</code> file with the GitHub app credentials:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GITHUB_CLIENT_ID=your_github_client_id</span></span>
<span class="line"><span>GITHUB_CLIENT_SECRET=your_github_client_secret</span></span></code></pre></div></li></ul></li><li><p><strong>Configure Flare for Error Handling</strong> Vanguard uses Flare for error tracking. Update your <code>.env</code> file with your Flare API key:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>FLARE_KEY=your_flare_api_key</span></span></code></pre></div></li><li><p><strong>Generate SSH Key</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vanguard:generate-ssh-key</span></span></code></pre></div></li><li><p><strong>Set Up Reverb for Web Sockets</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reverb:start</span></span></code></pre></div></li><li><p><strong>Start the Development Server</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve</span></span></code></pre></div></li></ol><p>Your Vanguard application should now be accessible at <code>http://localhost:8000</code> (or the URL provided by the <code>serve</code> command).</p><h2 id="post-installation-steps" tabindex="-1">Post-Installation Steps <a class="header-anchor" href="#post-installation-steps" aria-label="Permalink to &quot;Post-Installation Steps&quot;">​</a></h2><ol><li><p><strong>Create Your Account</strong></p><ul><li>Navigate to the Vanguard application in your web browser.</li><li>Register a new account using the registration form or log in with GitHub if configured.</li><li>After registration, add your email address to the <code>ADMIN_EMAIL_ADDRESSES</code> list in the <code>.env</code> file to grant admin privileges.</li></ul></li><li><p><strong>Configure SSH Connections</strong></p><ul><li>Ensure that the relevant ports are open on the destination servers for SSH connections.</li><li>Verify that the SSH credentials and configurations in your Vanguard settings are correct.</li><li>Test the SSH connections to ensure Vanguard can successfully connect to remote servers.</li></ul></li></ol><h2 id="production-deployment" tabindex="-1">Production Deployment <a class="header-anchor" href="#production-deployment" aria-label="Permalink to &quot;Production Deployment&quot;">​</a></h2><p>For production environments, consider the following:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For easier management of Laravel applications in production, we highly recommend using a server management provider such as Ploi or Laravel Forge. These platforms automate many of the deployment steps, handle server provisioning, and provide easy-to-use interfaces for managing your Laravel applications. They can significantly simplify your deployment process and ongoing maintenance.</p></div><ol><li><p><strong>Web Server Configuration</strong></p><ul><li>Configure Nginx or Apache to serve your application.</li><li>Ensure proper permissions on storage and bootstrap/cache directories.</li></ul></li><li><p><strong>Background Job Processing</strong></p><ul><li>Start Horizon for production:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> horizon</span></span></code></pre></div></li><li>Set up a process monitor like Supervisor to keep Horizon running.</li></ul></li><li><p><strong>Scheduled Tasks</strong> Add this Cron entry to your server:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>* * * * * cd /path-to-your-project &amp;&amp; php artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1</span></span></code></pre></div></li><li><p><strong>Environment Optimization</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config:cache</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route:cache</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> view:cache</span></span></code></pre></div></li><li><p><strong>SSL Configuration</strong> Ensure you have a valid SSL certificate installed and configured.</p></li><li><p><strong>Firewall Configuration</strong></p><ul><li>Configure your firewall to allow incoming connections on the necessary ports for SSH.</li><li>Ensure that Vanguard can make outgoing SSH connections to your destination servers.</li></ul></li></ol><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><ul><li>If you encounter any issues with web sockets, ensure Reverb is properly configured and running.</li><li>For database-related problems, verify your database credentials in the <code>.env</code> file.</li><li>If Horizon isn&#39;t processing jobs, check its configuration and ensure it&#39;s running.</li><li>If SSH connections fail, verify that the necessary ports are open and that the SSH credentials are correct.</li></ul><h2 id="updating-vanguard" tabindex="-1">Updating Vanguard <a class="header-anchor" href="#updating-vanguard" aria-label="Permalink to &quot;Updating Vanguard&quot;">​</a></h2><p>To update Vanguard to the latest version:</p><ol><li>Pull the latest changes:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div></li><li>Update dependencies:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">composer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div></li><li>Run migrations:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span></span></code></pre></div></li><li>Rebuild assets:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div></li></ol><p>Remember to check the changelog for any breaking changes or additional update steps.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Always backup your database and project files before performing updates.</p></div><p>For more detailed information, consult the official documentation for Laravel, Reverb, Horizon, and Pulse.</p>`,21),l=[n];function o(p,r,h,d,c,g){return a(),i("div",null,l)}const b=s(t,[["render",o]]);export{k as __pageData,b as default};
